{"version":3,"file":"static/js/50.bd4a47ff.chunk.js","mappings":"6LACA,EAAuB,4B,SCIVA,EAAgB,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACxBC,GAAWC,EAAAA,EAAAA,MACjB,OACE,+BACE,eAAIC,UAAWC,EAAf,SACc,OAAXJ,GACC,8CAEAA,EAAOK,KAAI,SAAAC,GAAK,OACd,yBACE,SAAC,KAAD,CACEC,GAAE,0CAAqCD,EAAME,IAC7CC,MAAO,CAAEC,KAAMT,GAFjB,SAIGK,EAAMK,SALFL,EAAME,a,0MCb3BI,IAAAA,SAAAA,QAAA,gCAEA,IAAMC,EAAU,mCAEHC,EAAU,mCAAG,WAAMN,GAAN,uFACGI,IAAAA,IAAA,iBAAoBJ,EAApB,oBAAkCK,IADrC,cAClBE,EADkB,yBAGjBA,EAAaC,MAHI,2CAAH,sDAMVC,EAAc,WAAe,IAAdC,EAAa,uDAAN,EACjC,OAAON,IAAAA,IAAA,sCAAyCC,EAAzC,iBAAyDK,KAGrDC,EAAY,mCAAG,WAAMC,GAAN,0FACnBR,IAAAA,IAAA,gCAAmCC,GAAW,CACnDQ,OAAQ,CACND,MAAOA,EACPE,SAAU,OAJY,2CAAH,sDAQZC,EAAe,mCAAG,WAAMf,GAAN,uFACFI,IAAAA,IAAA,iBACfJ,EADe,4BACOK,IAFL,cACvBW,EADuB,yBAKtBA,EAAaR,KAAKS,MALI,2CAAH,sDAOfC,EAAkB,mCAAG,WAAMlB,GAAN,uFACFI,IAAAA,IAAA,iBAClBJ,EADkB,4BACIK,IAFF,cAC1Bc,EAD0B,yBAKzBA,EAAgBX,KAAKY,SALI,2CAAH,uD,sHC7B/B,K,SCIO,SAASC,EAAT,GAAmC,IAAbC,EAAY,EAAZA,SAC3B,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOX,EAAP,KAAcY,EAAd,KAYA,OACE,+BACE,mBAAQ7B,UAAU,YAAlB,UACE,kBAAM2B,SATS,SAAAG,GACnBA,EAAEC,iBAEFJ,EAASV,GACTY,EAAS,KAKyB7B,UAAWC,EAAAA,KAAzC,WACE,mBAAQ+B,KAAK,SAAShC,UAAU,SAAhC,UACE,iBAAMA,UAAU,eAAhB,uBAGF,kBACEA,UAAWC,EAAAA,MACXgC,MAAOhB,EACPe,KAAK,OACLE,YAAY,gBACZC,SAvBW,SAAAC,GACnBP,EAASO,EAAMC,OAAOJ,iBCD1B,IAAMK,EACE,OADFA,EAGG,QAIM,SAASC,IACtB,OAA4BX,EAAAA,EAAAA,UAASU,GAArC,eAAOE,EAAP,KAAeC,EAAf,KACA,GAA4Bb,EAAAA,EAAAA,UAAS,IAArC,eAAO/B,EAAP,KAAe6C,EAAf,KAEA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAMM5B,EAAQ2B,EAAaE,IAAI,SAa/B,IAXAC,EAAAA,EAAAA,YAAU,WACRC,QAAQC,IAAIhC,GACRA,IACFD,EAAAA,EAAAA,IAAaC,GACViC,MAAK,gBAAGrC,EAAH,EAAGA,KAAH,OAAc6B,EAAU7B,EAAKY,YAClC0B,OAAM,WACLV,EAAUH,QAGf,CAACrB,IACJ+B,QAAQC,IAAIpD,GACR2C,EACF,OACE,iCACE,SAACd,EAAD,CAAYC,SArBG,SAAAV,GACnB4B,EAAgB,CAAE5B,MAAAA,QAqBd,SAACrB,EAAA,EAAD,CAAeC,OAAQA","sources":["webpack://react-homework-template/./src/components/MoviesGallery/MoviesGallery.module.css?276e","components/MoviesGallery/MoviesGallery.jsx","service/service.js","components/SearchForm/SearchForm.module.css","components/SearchForm/SearchForm.jsx","views/MoviesView.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MoviesGallery_list__aM+SO\"};","import { Link, useLocation } from 'react-router-dom';\n\nimport PropTypes from 'prop-types';\nimport styles from './MoviesGallery.module.css';\n\nexport const MoviesGallery = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <>\n      <ul className={styles.list}>\n        {movies === null ? (\n          <p>Movie is not found</p>\n        ) : (\n          movies.map(movie => (\n            <li key={movie.id}>\n              <Link\n                to={`/goit-react-hw-05-movies/movies/${movie.id}`}\n                state={{ from: location }}\n              >\n                {movie.title}\n              </Link>\n            </li>\n          ))\n        )}\n      </ul>\n    </>\n  );\n};\n\nMoviesGallery.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};\n","import axios from 'axios';\naxios.defaults.baseURL = `https://api.themoviedb.org/3/`;\n\nconst API_KEY = '3b3b2a52a8d81c1bd80a2943e9f5b0db';\n\nexport const moviesById = async id => {\n  const responseById = await axios.get(`/movie/${id}?api_key=${API_KEY}`);\n\n  return responseById.data;\n};\n\nexport const fetchMovies = (page = 1) => {\n  return axios.get(`/trending/movie/day?api_key=${API_KEY}&page=${page}`);\n};\n\nexport const searchMovies = async query => {\n  return axios.get(`/search/movie?api_key=${API_KEY}`, {\n    params: {\n      query: query,\n      per_page: 20,\n    },\n  });\n};\nexport const fetchCastMovies = async id => {\n  const responseCast = await axios.get(\n    `/movie/${id}/credits?api_key=${API_KEY}`\n  );\n\n  return responseCast.data.cast;\n};\nexport const fetchReviewsMovies = async id => {\n  const responseReviews = await axios.get(\n    `/movie/${id}/reviews?api_key=${API_KEY}`\n  );\n\n  return responseReviews.data.results;\n};\n","// extracted by mini-css-extract-plugin\nexport default {};","import { useState } from 'react';\nimport styles from './SearchForm.module.css';\n\nimport PropTypes from 'prop-types';\n\nexport function SearchForm({ onSubmit }) {\n  const [query, setQuery] = useState('');\n\n  const handleChange = event => {\n    setQuery(event.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    onSubmit(query);\n    setQuery('');\n  };\n  return (\n    <>\n      <header className=\"searchbar\">\n        <form onSubmit={handleSubmit} className={styles.form}>\n          <button type=\"submit\" className=\"button\">\n            <span className=\"button-label\">Search</span>\n          </button>\n\n          <input\n            className={styles.input}\n            value={query}\n            type=\"text\"\n            placeholder=\"Search movies\"\n            onChange={handleChange}\n          />\n        </form>\n      </header>\n    </>\n  );\n}\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useEffect, useState } from 'react';\n\nimport { useSearchParams } from 'react-router-dom';\nimport { searchMovies } from 'service/service';\nimport { MoviesGallery } from 'components/MoviesGallery/MoviesGallery';\nimport { SearchForm } from 'components/SearchForm/SearchForm';\n// import styles from 'views/Views.module.css';\n\nconst STATUS = {\n  Idle: 'idle',\n  Loading: 'loading',\n  Error: 'error',\n  Success: 'success',\n};\n\nexport default function MoviesView() {\n  const [status, setStatus] = useState(STATUS.Idle);\n  const [movies, setMovies] = useState([]);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const handleSubmit = query => {\n    setSearchParams({ query });\n    return;\n  };\n\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    console.log(query);\n    if (query) {\n      searchMovies(query)\n        .then(({ data }) => setMovies(data.results))\n        .catch(() => {\n          setStatus(STATUS.Error);\n        });\n    }\n  }, [query]);\n  console.log(movies);\n  if (status) {\n    return (\n      <>\n        <SearchForm onSubmit={handleSubmit} />\n        <MoviesGallery movies={movies} />\n      </>\n    );\n  }\n}\n"],"names":["MoviesGallery","movies","location","useLocation","className","styles","map","movie","to","id","state","from","title","axios","API_KEY","moviesById","responseById","data","fetchMovies","page","searchMovies","query","params","per_page","fetchCastMovies","responseCast","cast","fetchReviewsMovies","responseReviews","results","SearchForm","onSubmit","useState","setQuery","e","preventDefault","type","value","placeholder","onChange","event","target","STATUS","MoviesView","status","setStatus","setMovies","useSearchParams","searchParams","setSearchParams","get","useEffect","console","log","then","catch"],"sourceRoot":""}